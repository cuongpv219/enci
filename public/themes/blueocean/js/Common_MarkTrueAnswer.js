$(document).ready(function(){function l(a){for(var a=a.split("/"),b=[],c=0;c<a.length;c++)b[c]=a[c].replace(/^\s+|\s+$/g,"").substring(0,1);return b}var e=activityContent.group.length,b="",d=[];if(void 0!=activityContent.choices&&""!=activityContent.choices)d=l(activityContent.choices);else for(a=0;a<e;a++)void 0!=activityContent.group[a].sentence.match(/\[(.*?)\]/)[0].replace("[","").replace("]","")&&-1==jQuery.inArray(activityContent.group[a].sentence.match(/\[(.*?)\]/)[0].replace("[","").replace("]",
""),d)&&d.push(activityContent.group[a].sentence.match(/\[(.*?)\]/)[0].replace("[","").replace("]",""));var m=45*d.length,j=[],h=[],f=!0,i=!1;if(0<e){var k="";"undefined"!=typeof activityContent.sentenseTitle&&(k=activityContent.sentenseTitle);b=b+'<table id="sentences" border="0" cellspacing="0" width="100%"><thead>'+('<td class="sentences-title">'+k+'</td><td class="sentences-choices">');for(a=0;a<d.length;a++)b+="<span >"+d[a]+"</span>";for(var b=b+'</td><td class="sentences-answers"><span></span></td></thead>',
a=0;a<e;a++){j[a]=activityContent.group[a].sentence.replace(/\[(.*?)\]/,"").replace(/^\s+|\s+$/g,"");h[a]=activityContent.group[a].sentence.match(/\[(.*?)\]/)[0];for(var b=b+('<tr class="sentences-row"><td class="sentences">'+j[a]+'</td><td  class="true-false" groupid="'+a+'">'),c=0;c<d.length;c++)b+='<div id="check_'+a+"_"+c+'" class="ui-button-text global-choice-circle" value="0"></div>';b+='</td><td class="answers"><span id="true-false-icon_'+a+'"></span></td></tr>'}b+="</table>"}$("#sentences-container").append(b);
$(".true-false").css({width:m+"px"});$(".ui-button-text").click(function(){f&&(playSound(Ucan.Resource.Audio.getClickedSound()),"0"==$(this).attr("value")&&($(this).attr("value","1"),$(this).siblings().attr("value","0"),$(this).addClass("checked").siblings().removeClass("checked")))});$("#loadResult").click(function(){var b=0;if(f){f=!1;playSound(Ucan.Resource.Audio.getShowResultSound());for(a=0;a<e;a++){var g=-1;for(c=0;c<d.length;c++)g="1"==$("#check_"+a+"_"+c).attr("value")?c:g;$.inArray(h[a][1],
d)==g?(b++,insertTrueFalseIcon(!0,"#true-false-icon_"+a)):insertTrueFalseIcon(!1,"#true-false-icon_"+a);$("#true-false-icon_"+a).css({visibility:"hidden"})}$(".true-icon").css({visibility:"visible"});$(".false-icon").css({visibility:"visible"});$(".true-icon, .false-icon").ucanAnimateTrueFalseIcon();$("#num-of-correct-answers-result").text(b+"/"+e);score=Math.floor(100*(b/e));$("#score-text").text(score);$("#show-result").show("slide",{direction:"left"},Ucan.Constants.getShowResultSpeed());i=!0}});
$("#redo").click(function(){i&&(i=!1,$("#show-result").hide("slide",{direction:"left"},Ucan.Constants.getHideResultSpeed(),function(){f=!0;$(".answers .true-icon, .answers .false-icon").remove();$(".ui-button-text").attr("value","0").removeClass("checked")}))});$("#show-answer").click(function(){$(".ui-button-text").attr("value","0").removeClass("checked");for(a=0;a<e;a++)for(c=0;c<d.length;c++)c==$.inArray(h[a][1],d)&&$("#check_"+a+"_"+c).attr("value","1").addClass("checked").stop(!0,!0).fadeOut(500).fadeIn(500)})});