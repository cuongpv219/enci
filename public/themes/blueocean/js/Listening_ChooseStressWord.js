$(document).ready(function(){function h(a){return!1==(0<=a.indexOf("#")?!0:!1)?a:a.substring(1,a.length)}function g(){var a="";for(i=0;i<b;i++)d[i]=activityContent.group[i].words.replace(/^\s+|\s+$/g,"").replace(/ +/g," ").split(" ");for(i=0;i<b;i++){a+='<div class="word-container" sentenceId="'+i+'">'+(i+1)+". ";for(j=0;j<d[i].length;j++)a+='<span class="syllable">'+h($.trim(d[i][j]))+"</span>",j<d[i].length-1&&(a+='<span class="period"> </span>');a+="</div>"}$("#word-list").append(a);$(".syllable").click(function(){c&& (playSound(Ucan.Resource.Audio.getClickedSound()),$(this).hasClass("chosen")?$(this).stop(!0,!0).animate({opacity:"0.3"},500).animate({color:"#4375b1",opacity:"1"},500).removeClass("chosen"):$(this).stop(!0,!0).animate({opacity:"0.3"},500).animate({color:"#f5770f",opacity:"1"},500).addClass("chosen"))})}var b=activityContent.group.length,d=[],c=!0,f=!1;g();var e=0;$("#loadResult").click(function(){c&&(c=!1,$(".cp-jplayer").jPlayer("stop"),playSound(Ucan.Resource.Audio.getShowResultSound()),e=0,$(".word-container").each(function(){var a= !0,c=$(this).attr("sentenceId");for(i=0;i<$(this).children(".syllable").length;i++){var b=$(this).children(".syllable")[i];if(($(b).hasClass("chosen")?"#"+$(b).text():$(b).text())!=d[c][i]){a=!1;break}}a?(e++,insertTrueFalseIcon(!0,$(this))):insertTrueFalseIcon(!1,$(this))}),$(".true-icon, .false-icon").ucanAnimateTrueFalseIcon(),$("#num-of-correct-answers-result").text(e+"/"+b),score=Math.floor(100*(e/b)),$("#score-text").text(score),$("#show-result").show("slide",{direction:"left"},Ucan.Constants.getShowResultSpeed()), f=!0,$("input:radio").button("disable"))});$("#redo").click(function(){f&&(f=!1,$("#show-result").hide("slide",{direction:"left"},Ucan.Constants.getHideResultSpeed(),function(){c=!0;$("#word-list").html("");c=!0;g()}))});$("#show-answer").click(function(){$(".syllable").css({color:"#4375b1",opacity:"1"}).removeClass("chosen");$(".word-container").each(function(){var a=$(this).attr("sentenceId");for(i=0;i<$(this).children(".syllable").length;i++){var b=$(this).children(".syllable")[i];0<=d[a][i].indexOf("#")&& $(b).addClass("chosen")}});$(".chosen").animate({opacity:"0.3"},500).animate({color:"#f5770f",opacity:"1"},500).addClass("chosen")})});