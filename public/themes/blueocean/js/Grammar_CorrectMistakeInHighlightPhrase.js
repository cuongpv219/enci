$(document).ready(function(){function g(a){return 0==a.indexOf("[T]")?1:0==a.indexOf("[F]")?0:-1}function k(a){var b=a.indexOf("["),c=a.indexOf("]"),d=[];return-1!=b&&-1!=c&&b<c?(d[1]=a.substring(b+1,c),d[0]=a.substring(0,b),d[2]=a.substring(c+1,a.length),d):!1}var h=!0,j=!1,e=activityContent.group.length,i=[];"en"==defaultLanguage?(multiLangSystem.title_sentences="Sentences",multiLangSystem.title_correct="Correct wrong sentence(s)"):(multiLangSystem.title_sentences="Danh s\u00e1ch c\u00e2u",multiLangSystem.title_correct=
"S\u1eeda l\u1ea1i c\u00e2u sai");(function(){var a="";if(e>0){for(var a=a+('<table id="sentences" border="0" cellspacing="0"><thead><td class="global-blue-bar">'+multiLangSystem.title_sentences+'</td><td class="true">'+multiLangSystem.title_true+"/"+multiLangSystem.title_false+'</td><td class="inputtext global-blue-bar">'+multiLangSystem.title_correct+'</td><td class="answers global-blue-bar"><span id="true-false-icon"></span></td></thead>'),b=0;b<e;b++){i[b]=$.trim(activityContent.group[b].sentence).split("||");
var c=k(i[b][0].substring(3));if(g(activityContent.group[b].sentence)!=-1&&c!=false){a=a+'<tr class="sentences-row">';a=a+('<td class="sentences">'+c[0]+'<span class="highlighted">'+c[1]+"</span>"+c[2]+"</td>");a=a+'<td  class="true-false">';a=a+('<div id="radio_'+b+'">');a=a+'<div class="ui-button-text global-choice-circle" data-value="true"></div>';a=a+'<div class="ui-button-text global-choice-circle"></div>';a=a+('</div></td><td class="inputtext"><input class="text global-textbox-shadow-inset-1" type="text" name="textbox_'+
b+'" disabled="disabled" /></td>');a=a+('<td class="answers"><div id="true-false-icon_'+b+'"></div></td></tr><td class="true-false" groupid="'+b+'">');a=a+('<td  class="true-false" groupid="'+b+'">')}}a=a+"</table>"}$("#sentences-container").append(a);$(".ui-button-text").click(function(){if(h&&!$(this).hasClass("checked")){playSound(Ucan.Resource.Audio.getClickedSound());$(this).addClass("checked").siblings(".ui-button-text").removeClass("checked");$(this).attr("data-value")?$(this).parents(".sentences-row").find(".text").attr("disabled",
"disabled"):$(this).parents(".sentences-row").find(".text").removeAttr("disabled").focus()}})})();var f=0;$("#loadResult").click(function(){if(h){h=false;$(".text").attr("readonly","readonly");playSound(Ucan.Resource.Audio.getShowResultSound());for(var a=f=0;a<e;a++){var b=$("#radio_"+a).children(".checked").attr("data-value");if(b&&g(activityContent.group[a].sentence)==1){insertTrueFalseIcon(true,$("#true-false-icon_"+a));f++}else{if(b=!b)if(b=g(activityContent.group[a].sentence)==0)a:{for(var b=
$("input:text[name=textbox_"+a+"]").val().replace(/\s+/g," ").replace(/^\s+|\s+$/g,"").toLowerCase(),c=i[a][1].toLowerCase().split("/"),d=0;d<c.length;d++)if(b==c[d]){b=true;break a}b=false}if(b){insertTrueFalseIcon(true,$("#true-false-icon_"+a));f++}else insertTrueFalseIcon(false,$("#true-false-icon_"+a))}}$(".true-icon, .false-icon").ucanAnimateTrueFalseIcon();$("#num-of-correct-answers-result").text(f+"/"+e);score=Math.floor(f/e*100);$("#score-text").text(score);$("#show-result").show("slide",
{direction:"left"},Ucan.Constants.getShowResultSpeed());j=true}});$("#redo").click(function(){if(j){j=false;$("#show-result").hide("slide",{direction:"left"},Ucan.Constants.getHideResultSpeed(),function(){h=true;$("#show-result").slideUp(500);$(".ui-button-text").attr("data-checked","0").removeClass("checked");for(var a=0;a<e;a++)$("#true-false-icon_"+a).html("");$(".text").val("").removeAttr("readonly").attr("disabled","disabled")})}});$("#show-answer").click(function(){$(".ui-button-text").removeClass("checked");
$(".text").val("");$(".text").each(function(a){if(g(activityContent.group[a].sentence)==0){$(this).val(i[a][1]).fadeOut(400).fadeIn(400).fadeOut(400).fadeIn(400);$("#radio_"+a+" .ui-button-text:last").addClass("checked").fadeOut(400).fadeIn(400).fadeOut(400).fadeIn(400);$(this).removeAttr("disabled")}else{$("#radio_"+a+" .ui-button-text:first").addClass("checked").fadeOut(400).fadeIn(400).fadeOut(400).fadeIn(400);$(this).attr("disabled","disabled")}})})});