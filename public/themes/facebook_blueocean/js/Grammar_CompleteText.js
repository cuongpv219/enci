$(document).ready(function(){function g(){c=[];paragraph=activityContent.paragraph;var a='<div class="paragraph">'+ucanMarkupToHtml(paragraph)+"</div>",b=/\[([^\]])+\]/g;c=a.match(b);a=a.replace(b,'<span class="blank"><input type="text" class="text"/></span>');$("#paragraph-container").append($(a));$(".text:first").focus();$(".text").autoGrowInput({comfortZone:5,minWidth:90,maxWidth:140})}var d=!0,f=!1,c=[],e=0;g();$("#show-answer").click(function(){var a=0;$(".text").each(function(){var b=c[a].substring(1,
c[a].length-1);$(this).val(htmlEncode(b)).fadeOut(500).fadeIn(500);a++})});$("#loadResult").click(function(){if(d){d=!1;playSound(Ucan.Resource.Audio.getShowResultSound());var a=e=0;$(".text").each(function(){var b;a:{b=$(this).val();var d=htmlEncode(c[a].substring(1,c[a].length-1)).split("/");for(i=0;i<d.length;i++)if(isEqualString(b,d[i])){b=!0;break a}b=!1}b?(e++,insertTrueFalseIconAfter(!0,this)):insertTrueFalseIconAfter(!1,this);a++});$(".true-icon").css({margin:"-2px 2px 0px 1px","box-shadow":"none",
border:"none",width:"18px",height:"18px"});$(".false-icon").css({margin:"-2px 2px 0px 1px","box-shadow":"none",border:"none",width:"18px",height:"18px"});$(".true-icon, .false-icon").ucanAnimateTrueFalseIcon();$("#num-of-correct-answers-result").text(e+"/"+c.length);score=Math.floor(100*(e/c.length));$("#score-text").text(score);$("#show-result").show("slide",{direction:"left"},Ucan.Constants.getShowResultSpeed());f=!0}});$("#redo").click(function(){f&&(f=!1,$("#show-result").hide("slide",{direction:"left"},
Ucan.Constants.getHideResultSpeed(),function(){d=!0;$("#paragraph-container").html("");g()}))})});