$(document).ready(function(){function g(){a=!0;c=[];var b=ucanMarkupToHtml(activityContent.paragraph),b=b.replace(/\[/g,'<span class="choices-container">'),b=b.replace(/\]/g,"</span>");$("#paragraph-container").append($(b));$(".choices-container").each(function(){var b=c.length;c[b]=0;var a=$(this).text().split("||"),d="";$(this).html("");for(i=0;i<a.length;i++)0==$.trim(a[i]).indexOf("#")?(d+='<span class="choice" order="'+i+'">'+$.trim(a[i]).substr(1)+"</span>",c[b]+=Math.pow(2,i)):d+='<span class="choice" order="'+
i+'">'+$.trim(a[i])+"</span>",d=i==a.length-1?d:d+" / ";$(this).append(d)});$(".choice").click(function(){!1!=a&&(playSound(Ucan.Resource.Audio.getClickedSound2()),$(this).hasClass("chosen")?$(this).animate({opacity:"0.3"},500,function(){$(this).css("text-decoration","")}).animate({color:"#4375B1",opacity:"1"},500).removeClass("chosen"):$(this).animate({opacity:"0.3"},500,function(){$(this).css("text-decoration","line-through")}).animate({color:"#C12942",opacity:"1"},500).addClass("chosen"))})}var a=
!0,c=[],f=!1;g();var e=0;$("#loadResult").click(function(){if(!1!=a){a=!1;playSound(Ucan.Resource.Audio.getShowResultSound());var b=e=0;$(".choices-container").each(function(){var a=0;$(this).children(".chosen").each(function(){a+=Math.pow(2,$(this).attr("order"))});a==c[b]?(e++,insertTrueFalseIconAfter(!0,$(this).last())):insertTrueFalseIconAfter(!1,$(this).last());b++});$(".true-icon").css({margin:"-10px 2px 0px 1px","box-shadow":"none",border:"none",width:"18px",height:"18px"});$(".false-icon").css({margin:"-5px 2px 0px 1px",
"box-shadow":"none",border:"none",width:"18px",height:"18px"});$(".true-icon, .false-icon").ucanAnimateTrueFalseIcon();$("#num-of-correct-answers-result").text(e+"/"+c.length);score=Math.floor(100*(e/c.length));$("#score-text").text(score);$("#show-result").show("slide",{direction:"left"},Ucan.Constants.getShowResultSpeed());f=!0}});$("#redo").click(function(){f&&(f=!1,a=!0,$("#show-result").hide("slide",{direction:"left"},Ucan.Constants.getHideResultSpeed(),function(){$("#paragraph-container").html("");
g()}))});$("#show-answer").click(function(){$(".chosen").removeClass(".chosen");$(".choice").animate({opacity:"0.3"},500,function(){$(this).css("text-decoration","")}).animate({color:"#4f81bd",opacity:"1"},500);var a=0;$(".choices-container").each(function(){var e=c[a].toString(2);$(this).children(".choice").each(function(){"1"==e[e.length-1-$(this).attr("order")]&&$(this).addClass("answer")});a++});$(".answer").animate({opacity:"0.3"},500,function(){$(this).css("text-decoration","line-through")}).animate({color:"#C12942",
opacity:"1"},500)})});